{"mappings":"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","sources":["src/js/read/read-page.js"],"sourcesContent":["import { load, save } from '../local-storage/locale-storage';\nimport mobileMenu from '../mobile-menu/mobile-menu';\nimport headerResponsive from '../responsivity/headerResponsive';\nimport '../news-data/news-by-search';\nimport '../theme-switcher/switcher-theme';\n\nmobileMenu();\nheaderResponsive();\n\nconst FAV_KEY = 'favorite';\nconst clickedLiArr = load(FAV_KEY);\nif (load(FAV_KEY) === undefined) {\n  save(FAV_KEY, []);\n}\n\nconst refs = {\n  undefinedThumb: document.querySelector('.undefined'),\n  readList: document.querySelector('.read-list'),\n};\n\nrefs.readList.addEventListener('click', onDataClick);\n\nif (load('read') != undefined) {\n  refs.undefinedThumb.classList.add('visually-hidden');\n  refs.readList.insertAdjacentHTML('afterbegin', creatPageList());\n} else {\n  refs.undefinedThumb.classList.remove('visually-hidden');\n}\n\nfunction creatPageList() {\n  const arrayCardRead = load('read');\n  const arrayDataRead = arrayCardRead\n    .map(data => data.dataRead)\n    .filter((item, index, arr) => {\n      return arr.indexOf(item) === index;\n    });\n\n  return arrayDataRead\n    .map(\n      data => `<li class=\"read-list__item\">\n            <button class=\"read-list__button\" type=\"button\">\n              <span class=\"read-list__data\">${data}</span>\n              <svg class=\"read-list__icon\" width=\"9\" height=\"15\" viewBox=\"0 0 32 32\">\n\t\t\t<path \n\t\t\t\td=\"M4.576 5.333l-3.509 3.247 14.933 13.819 14.933-13.819-3.509-3.248-11.424 10.549-11.424-10.549z\">\n\t\t\t</path>>\n              </svg>\n            </button>\n            <ul class=\"card-list visually-hidden\">\n            </ul>\n        </li>\n    `\n    )\n    .join('');\n}\n\nfunction onDataClick(e) {\n  if (e.target.classList.contains('read-list__button')) {\n    const cardDate = e.target.nextElementSibling;\n    const arrayCardRead = load('read');\n    cardDate.classList.toggle('visually-hidden');\n    cardDate.innerHTML = arrayCardRead\n      .filter(item => {\n        if (item.dataRead === e.target.firstElementChild.textContent)\n          return item;\n      })\n      .map(data => data.dataString)\n      .filter((item, index, arr) => {\n        return arr.indexOf(item) === index;\n      })\n      .join('');\n\n    if (cardDate.classList.contains('visually-hidden')) {\n      e.target.lastElementChild.setAttribute('viewBox', '0 0 32 32');\n      e.target.lastElementChild.firstElementChild.setAttribute(\n        'd',\n        'M4.576 5.333l-3.509 3.247 14.933 13.819 14.933-13.819-3.509-3.248-11.424 10.549-11.424-10.549z'\n      );\n    } else {\n      e.target.lastElementChild.setAttribute('viewBox', '0 0 30 32');\n      e.target.lastElementChild.firstElementChild.setAttribute(\n        'd',\n        'M3.509 22.4l-3.509-3.247 14.933-13.819 14.933 13.819-3.509 3.247-11.424-10.549-11.424 10.549z'\n      );\n    }\n  }\n\n  if (e.target.classList.contains('read-list__data')) {\n    const cardDate = e.target.parentNode.nextElementSibling;\n    const arrayCardRead = load('read');\n    cardDate.classList.toggle('visually-hidden');\n    cardDate.innerHTML = arrayCardRead\n      .filter(item => {\n        if (item.dataRead === e.target.textContent) return item;\n      })\n      .map(data => data.dataString)\n      .filter((item, index, arr) => {\n        return arr.indexOf(item) === index;\n      })\n      .join('');\n\n    if (cardDate.classList.contains('visually-hidden')) {\n      e.target.nextElementSibling.setAttribute('viewBox', '0 0 32 32');\n      e.target.nextElementSibling.firstElementChild.setAttribute(\n        'd',\n        'M4.576 5.333l-3.509 3.247 14.933 13.819 14.933-13.819-3.509-3.248-11.424 10.549-11.424-10.549z'\n      );\n    } else {\n      e.target.nextElementSibling.setAttribute('viewBox', '0 0 30 32');\n      e.target.nextElementSibling.firstElementChild.setAttribute(\n        'd',\n        'M3.509 22.4l-3.509-3.247 14.933-13.819 14.933 13.819-3.509 3.247-11.424-10.549-11.424 10.549z'\n      );\n    }\n  }\n\n  if (e.target.classList.contains('read-list__icon')) {\n    const cardDate = e.target.parentNode.nextElementSibling;\n    const arrayCardRead = load('read');\n    cardDate.classList.toggle('visually-hidden');\n    cardDate.innerHTML = arrayCardRead\n      .filter(item => {\n        if (item.dataRead === e.target.previousElementSibling.textContent)\n          return item;\n      })\n      .map(data => data.dataString)\n      .filter((item, index, arr) => {\n        return arr.indexOf(item) === index;\n      })\n      .join('');\n\n    if (cardDate.classList.contains('visually-hidden')) {\n      e.target.setAttribute('viewBox', '0 0 32 32');\n      e.target.firstElementChild.setAttribute(\n        'd',\n        'M4.576 5.333l-3.509 3.247 14.933 13.819 14.933-13.819-3.509-3.248-11.424 10.549-11.424-10.549z'\n      );\n    } else {\n      e.target.setAttribute('viewBox', '0 0 30 32');\n      e.target.firstElementChild.setAttribute(\n        'd',\n        'M3.509 22.4l-3.509-3.247 14.933-13.819 14.933 13.819-3.509 3.247-11.424-10.549-11.424 10.549z'\n      );\n    }\n  }\n\n  if (e.target.classList.contains('js-to-fav')) {\n    e.target.firstElementChild.textContent = 'Remove from favorites';\n    e.target.lastElementChild.firstElementChild.setAttribute('fill', '#4b48da');\n    e.target.lastElementChild.firstElementChild.setAttribute(\n      'style',\n      'fill: var(--color1, #4b48da)'\n    );\n\n    e.target.classList.remove('js-to-fav');\n    e.target.classList.add('js-from-fav');\n\n    addLiToArrayInLS(\n      e.target.parentNode.parentNode.id,\n      e.target.parentNode.parentNode.parentNode\n    );\n  } else if (e.target.classList.contains('js-from-fav')) {\n    e.target.firstElementChild.textContent = 'Add to favorites';\n    e.target.lastElementChild.firstElementChild.setAttribute('fill', 'none');\n    e.target.lastElementChild.firstElementChild.setAttribute(\n      'style',\n      'stroke: var(--color1, #4440f7)'\n    );\n\n    removeLiFromLS(e.target.parentNode.parentNode.id);\n\n    e.target.classList.remove('js-from-fav');\n    e.target.classList.add('js-to-fav');\n  }\n\n  const arrayItem = refs.readList.firstElementChild.lastElementChild.children;\n  const arrayFav = load('favorite');\n  const favId = arrayFav.map(item => item.id);\n\n  Array.from(arrayItem).map(item => {\n    if (favId.includes(item.firstElementChild.id)) {\n      const Btn =\n        item.firstElementChild.firstElementChild.nextElementSibling\n          .lastElementChild;\n      Btn.classList.remove('js-to-fav');\n      Btn.classList.add('js-from-fav');\n      Btn.firstElementChild.textContent = 'Remove from favorites';\n      Btn.lastElementChild.firstElementChild.setAttribute('fill', '#4b48da');\n      Btn.lastElementChild.firstElementChild.setAttribute(\n        'style',\n        'fill: var(--color1, #4b48da)'\n      );\n    }\n  });\n}\n\nfunction addLiToArrayInLS(targetLiID, targetLi) {\n  if (!clickedLiArr.find(obj => obj.id === targetLiID)) {\n    clickedLiArr.push({\n      dataString: targetLi.innerHTML,\n      id: targetLi.firstElementChild.getAttribute('id'),\n    });\n  }\n\n  save(FAV_KEY, clickedLiArr);\n}\n\nfunction removeLiFromLS(targetLiID) {\n  if (load(FAV_KEY) === undefined) {\n    save(FAV_KEY, []);\n  }\n\n  clickedLiArr.splice(findLiToRemoveByID(targetLiID), 1);\n\n  save(FAV_KEY, clickedLiArr);\n}\n\nfunction findLiToRemoveByID(targetLiID) {\n  return clickedLiArr.findIndex(obj => obj.id === targetLiID);\n}\n"],"names":["$5oMi3","parcelRequire","$lTqjZ","default","$8CotJ","$9d849fb2c488dfd0$var$clickedLiArr","load","undefined","save","$9d849fb2c488dfd0$var$refs","undefinedThumb","document","querySelector","readList","addEventListener","e","target","classList","contains","cardDate","nextElementSibling","arrayCardRead","toggle","innerHTML","filter","item","dataRead","firstElementChild","textContent","map","data","dataString","index","arr","indexOf","join","lastElementChild","setAttribute","parentNode","previousElementSibling","remove","add","targetLiID","targetLi","find","obj","id","push","getAttribute","$9d849fb2c488dfd0$var$addLiToArrayInLS","splice","findIndex","$9d849fb2c488dfd0$var$findLiToRemoveByID","$9d849fb2c488dfd0$var$removeLiFromLS","arrayItem","children","favId","Array","from","includes","Btn","insertAdjacentHTML","$9d849fb2c488dfd0$var$creatPageList"],"version":3,"file":"read.57ecaa56.js.map"}