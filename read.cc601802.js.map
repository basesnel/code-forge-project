{"mappings":"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","sources":["src/js/read/read-page.js"],"sourcesContent":["import { load, save } from '../local-storage/locale-storage';\nimport mobileMenu from '../mobile-menu/mobile-menu';\nimport headerResponsive from '../responsivity/headerResponsive';\nimport '../news-data/news-by-search';\nimport '../theme-switcher/switcher-theme';\n\nmobileMenu();\nheaderResponsive();\n\nconst FAV_KEY = 'favorite';\nconst clickedLiArr = load(FAV_KEY);\nif (load(FAV_KEY) === undefined) {\n  save(FAV_KEY, []);\n}\n\nconst refs = {\n  undefinedThumb: document.querySelector('.undefined'),\n  readList: document.querySelector('.read-list'),\n};\n\nrefs.readList.addEventListener('click', onDataClick);\n\nif (load('read') != undefined) {\n  refs.undefinedThumb.classList.add('visually-hidden');\n  refs.readList.insertAdjacentHTML('afterbegin', creatPageList());\n} else {\n  refs.undefinedThumb.classList.remove('visually-hidden');\n}\n\nfunction creatPageList() {\n  const arrayCardRead = load('read');\n  const arrayDataRead = arrayCardRead\n    .map(data => data.dataRead)\n    .filter((item, index, arr) => {\n      return arr.indexOf(item) === index;\n    });\n\n  return arrayDataRead\n    .map(\n      data => `<li class=\"read-list__item\">\n            <button class=\"read-list__button\" type=\"button\">\n              <span class=\"read-list__data\">${data}</span>\n              <svg class=\"read-list__icon\" width=\"9\" height=\"15\" viewBox=\"0 0 32 32\">\n\t\t\t<path \n\t\t\t\td=\"M4.576 5.333l-3.509 3.247 14.933 13.819 14.933-13.819-3.509-3.248-11.424 10.549-11.424-10.549z\">\n\t\t\t</path>>\n              </svg>\n            </button>\n            <ul class=\"card-list visually-hidden\">\n            </ul>\n        </li>\n    `\n    )\n    .join('');\n}\n\nfunction onDataClick(e) {\n  if (e.target.classList.contains('read-list__button')) {\n    const cardDate = e.target.nextElementSibling;\n    const arrayCardRead = load('read');\n    cardDate.classList.toggle('visually-hidden');\n    cardDate.innerHTML = arrayCardRead\n      .filter(item => {\n        if (item.dataRead === e.target.firstElementChild.textContent)\n          return item;\n      })\n      .map(data => data.dataString)\n      .filter((item, index, arr) => {\n        return arr.indexOf(item) === index;\n      })\n      .join('');\n\n    if (cardDate.classList.contains('visually-hidden')) {\n      e.target.lastElementChild.setAttribute('viewBox', '0 0 32 32');\n      e.target.lastElementChild.firstElementChild.setAttribute(\n        'd',\n        'M4.576 5.333l-3.509 3.247 14.933 13.819 14.933-13.819-3.509-3.248-11.424 10.549-11.424-10.549z'\n      );\n    } else {\n      e.target.lastElementChild.setAttribute('viewBox', '0 0 30 32');\n      e.target.lastElementChild.firstElementChild.setAttribute(\n        'd',\n        'M3.509 22.4l-3.509-3.247 14.933-13.819 14.933 13.819-3.509 3.247-11.424-10.549-11.424 10.549z'\n      );\n    }\n  }\n\n  if (e.target.classList.contains('read-list__data')) {\n    const cardDate = e.target.parentNode.nextElementSibling;\n    const arrayCardRead = load('read');\n    cardDate.classList.toggle('visually-hidden');\n    cardDate.innerHTML = arrayCardRead\n      .filter(item => {\n        if (item.dataRead === e.target.textContent) return item;\n      })\n      .map(data => data.dataString)\n      .filter((item, index, arr) => {\n        return arr.indexOf(item) === index;\n      })\n      .join('');\n\n    if (cardDate.classList.contains('visually-hidden')) {\n      e.target.nextElementSibling.setAttribute('viewBox', '0 0 32 32');\n      e.target.nextElementSibling.firstElementChild.setAttribute(\n        'd',\n        'M4.576 5.333l-3.509 3.247 14.933 13.819 14.933-13.819-3.509-3.248-11.424 10.549-11.424-10.549z'\n      );\n    } else {\n      e.target.nextElementSibling.setAttribute('viewBox', '0 0 30 32');\n      e.target.nextElementSibling.firstElementChild.setAttribute(\n        'd',\n        'M3.509 22.4l-3.509-3.247 14.933-13.819 14.933 13.819-3.509 3.247-11.424-10.549-11.424 10.549z'\n      );\n    }\n  }\n\n  if (e.target.classList.contains('read-list__icon')) {\n    const cardDate = e.target.parentNode.nextElementSibling;\n    const arrayCardRead = load('read');\n    cardDate.classList.toggle('visually-hidden');\n    cardDate.innerHTML = arrayCardRead\n      .filter(item => {\n        if (item.dataRead === e.target.previousElementSibling.textContent)\n          return item;\n      })\n      .map(data => data.dataString)\n      .filter((item, index, arr) => {\n        return arr.indexOf(item) === index;\n      })\n      .join('');\n\n    if (cardDate.classList.contains('visually-hidden')) {\n      e.target.setAttribute('viewBox', '0 0 32 32');\n      e.target.firstElementChild.setAttribute(\n        'd',\n        'M4.576 5.333l-3.509 3.247 14.933 13.819 14.933-13.819-3.509-3.248-11.424 10.549-11.424-10.549z'\n      );\n    } else {\n      e.target.setAttribute('viewBox', '0 0 30 32');\n      e.target.firstElementChild.setAttribute(\n        'd',\n        'M3.509 22.4l-3.509-3.247 14.933-13.819 14.933 13.819-3.509 3.247-11.424-10.549-11.424 10.549z'\n      );\n    }\n  }\n\n  if (e.target.classList.contains('js-to-fav')) {\n    e.target.firstElementChild.textContent = 'Remove from favorites';\n    e.target.lastElementChild.firstElementChild.setAttribute('fill', '#4b48da');\n    e.target.lastElementChild.firstElementChild.setAttribute(\n      'style',\n      'fill: var(--color1, #4b48da)'\n    );\n\n    e.target.classList.remove('js-to-fav');\n    e.target.classList.add('js-from-fav');\n\n    addLiToArrayInLS(\n      e.target.parentNode.parentNode.id,\n      e.target.parentNode.parentNode.parentNode\n    );\n  } else if (e.target.classList.contains('js-from-fav')) {\n    e.target.firstElementChild.textContent = 'Add to favorites';\n    e.target.lastElementChild.firstElementChild.setAttribute('fill', 'none');\n    e.target.lastElementChild.firstElementChild.setAttribute(\n      'style',\n      'stroke: var(--color1, #4440f7)'\n    );\n\n    removeLiFromLS(e.target.parentNode.parentNode.id);\n\n    e.target.classList.remove('js-from-fav');\n    e.target.classList.add('js-to-fav');\n  }\n\n  const arrayItem = refs.readList.firstElementChild.lastElementChild.children;\n  const arrayFav = load('favorite');\n  const favId = arrayFav.map(item => item.id);\n\n  Array.from(arrayItem).map(item => {\n    if (favId.includes(item.firstElementChild.id)) {\n      const Btn =\n        item.firstElementChild.firstElementChild.nextElementSibling\n          .lastElementChild;\n      Btn.classList.remove('js-to-fav');\n      Btn.classList.add('js-from-fav');\n      Btn.firstElementChild.textContent = 'Remove from favorites';\n      Btn.lastElementChild.firstElementChild.setAttribute('fill', '#4b48da');\n      Btn.lastElementChild.firstElementChild.setAttribute(\n        'style',\n        'fill: var(--color1, #4b48da)'\n      );\n    }\n  });\n}\n\nfunction addLiToArrayInLS(targetLiID, targetLi) {\n  if (!clickedLiArr.find(obj => obj.id === targetLiID)) {\n    clickedLiArr.push({\n      dataString: targetLi.innerHTML,\n      id: targetLi.firstElementChild.getAttribute('id'),\n    });\n  }\n\n  save(FAV_KEY, clickedLiArr);\n}\n\nfunction removeLiFromLS(targetLiID) {\n  if (load(FAV_KEY) === undefined) {\n    save(FAV_KEY, []);\n  }\n\n  clickedLiArr.splice(findLiToRemoveByID(targetLiID), 1);\n\n  save(FAV_KEY, clickedLiArr);\n}\n\nfunction findLiToRemoveByID(targetLiID) {\n  return clickedLiArr.findIndex(obj => obj.id === targetLiID);\n}\n"],"names":["$lpKLl","parcelRequire","$bIRtP","default","$41m00","$98425d59f9c136d0$var$FAV_KEY","$98425d59f9c136d0$var$clickedLiArr","load","undefined","save","$98425d59f9c136d0$var$refs","undefinedThumb","document","querySelector","readList","addEventListener","e","target","classList","contains","cardDate","nextElementSibling","arrayCardRead","toggle","innerHTML","filter","item","dataRead","firstElementChild","textContent","map","data","dataString","index","arr","indexOf","join","lastElementChild","setAttribute","cardDate1","parentNode","arrayCardRead1","cardDate2","arrayCardRead2","previousElementSibling","remove","add","targetLiID","targetLi","find","obj","id","push","getAttribute","$98425d59f9c136d0$var$addLiToArrayInLS","splice","findIndex","$98425d59f9c136d0$var$findLiToRemoveByID","$98425d59f9c136d0$var$removeLiFromLS","arrayItem","children","favId","Array","from","includes","Btn","insertAdjacentHTML","concat"],"version":3,"file":"read.cc601802.js.map"}